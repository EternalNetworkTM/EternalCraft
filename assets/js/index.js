"use strict";const LOADING_OVERLAY_FADE_DURATION=250,ANIMATION_CLASSES=["animation-fade-in","animation-slide-down","animation-zoom-out"],HEADER_IMAGE_OPACITY=.4,HEADER_IMAGE_TRANSLATE_PERCENT=50,HEADER_IMAGE_SCALE_FACTOR=.2;function setupAnimations(){const e=new IntersectionObserver(t=>{for(let n=0;n<t.length;n++){const o=t[n];o.isIntersecting&&(o.target.classList.remove(...ANIMATION_CLASSES),e.unobserve(o.target))}});document.querySelectorAll(".animation").forEach(t=>e.observe(t))}function setupHeaderImageParallax(){const e=document.querySelector("header"),t=document.querySelector(".background-image");function n(){const n=e.getBoundingClientRect(),o=Math.max((n.height+n.top)/n.height,0);t.style.opacity=HEADER_IMAGE_OPACITY*o;const s=(1-o)*HEADER_IMAGE_TRANSLATE_PERCENT,l=1+(1-o)*HEADER_IMAGE_SCALE_FACTOR;t.style.transform=`translateY(${s}%) scale(${l})`}new IntersectionObserver(e=>{const t=e[0];t&&t.isIntersecting?document.addEventListener("scroll",n):document.removeEventListener("scroll",n)}).observe(e),n()}const ruleObjects=[];function setupRules(){const e=document.querySelector(".rules-container").children;for(let t=0;t<e.length;t++){const n=e[t],o=n.querySelector(".body");if(!o)continue;const s=n.querySelector(".label"),l={element:n,icons:s.querySelectorAll(".icon"),body:o};ruleObjects.push(l),n.addEventListener("click",()=>toggleRule(l))}}function toggleRule(e){for(let t=0;t<ruleObjects.length;t++){const n=ruleObjects[t],o=n.element;o!==e.element&&o.classList.contains("expanded")&&collapseRule(n)}e.element.classList.contains("expanded")?e.body.style.height="0px":e.body.style.height=`${e.body.scrollHeight}px`,e.element.classList.toggle("expanded");for(let t=0;t<e.icons.length;t++)e.icons[t].classList.toggle("hidden")}function collapseRule(e){e.body.style.height="0px",e.element.classList.remove("expanded");for(let t=0;t<e.icons.length;t++)e.icons[t].classList.toggle("hidden")}function doneLoading(){document.documentElement.classList.remove("loading");const e=document.querySelector(".loading-overlay"),t=e.animate([{opacity:1},{opacity:0}],{duration:LOADING_OVERLAY_FADE_DURATION,easing:"ease",fill:"forwards"});function n(){e.classList.add("hidden")}t.addEventListener("finish",n),t.addEventListener("cancel",n)}window.addEventListener("load",()=>{setupAnimations(),setupHeaderImageParallax(),setupRules(),doneLoading()});
//# sourceMappingURL=index.js.map
